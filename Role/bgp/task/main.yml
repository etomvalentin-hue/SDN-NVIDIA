# roles/bgp/tasks/main.yml
---
- name: Configure BGP base
  template:
    src: bgp_base.j2
    dest: /etc/frr/bgp_base.conf

- name: Configure BGP neighbors
  template:
    src: bgp_neighbors.j2
    dest: /etc/frr/bgp_neighbors.conf

- name: Configure BGP address families
  template:
    src: bgp_address_families.j2
    dest: /etc/frr/bgp_af.conf
  when: bgp_address_families is defined